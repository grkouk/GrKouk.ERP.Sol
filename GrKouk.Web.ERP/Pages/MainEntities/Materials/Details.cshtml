@page
@model GrKouk.Web.ERP.Pages.MainEntities.Materials.DetailsModel

@{
    Layout = "_LayoutDashboard";
    //ViewData["Title"] = "Product Details";
}


<div class="container-fluid">
    <div class="row">
         <main role="main" class="col-md-12 ml-sm-auto col-lg-12 px-4">
                    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                        @* <h3 class="h3">@Model.Item.TransactorTypeName @Model.Item.Name Details</h3> *@
                        <h3></h3>
                        <div class="btn-toolbar mb-2 mb-md-0">
                            <div class="btn-group mr-2">
                                <button type="button" class="btn  btn-sm btn-outline-secondary selected-company-text">Reference</button>
                                <button type="button" class="btn  btn-sm btn-outline-secondary dropdown-toggle dropdown-toggle-split" id="companyMenuReference" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-reference="parent">
                                    <span class="sr-only">Toggle Dropdown</span>
                                </button>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="companyMenuReference" name="CompanySelector">
                                    <button class="dropdown-item company-item" type="button">Action</button>
                                    <button class="dropdown-item company-item" type="button">Another Action</button>
        
                                    <button class="dropdown-item company-item" type="button">Another Action</button>
                                </div>
                            </div>
                            <div class="btn-group">
                                <button type="button" class="btn  btn-sm btn-outline-secondary selected-currency-text">Reference</button>
                                <button type="button" class="btn  btn-sm btn-outline-secondary dropdown-toggle dropdown-toggle-split" id="currencyMenuReference" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-reference="parent">
                                    <span class="sr-only">Toggle Dropdown</span>
                                </button>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="currencyMenuReference" name="CurrencySelector">
                                    <button class="dropdown-item currency-item" type="button">Action</button>
                                    <button class="dropdown-item currency-item" type="button">Another Action</button>
        
                                    <button class="dropdown-item currency-item" type="button">Another Action</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="container">
                        <div class="card bg-light">
                            <div class="card-body">
                                <h5 class="card-title">@Model.ItemVm.Code</h5>
                                <h6 class="card-subtitle mb-2 text-muted">@Model.ItemVm.Companies</h6>
                                <p class="card-text"></p>
                                <a href="./kartela?transactorId=@Model.ItemVm.Id" class="card-link">Καρτέλα</a>
                                <a href="#" class="card-link">Another link</a>
                            </div>
                        </div>
                    </div>
        
                    <hr/>
                    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-2 pb-2 mb-3 border-bottom">
                        <div class="d-flex align-items-center">
                            <h5 class="mr-2">Financial Summary</h5>
                            <div class="spinner-border ml-auto text-primary" role="status" aria-hidden="true" id="FinancialLoader" style="display: none"></div>
                        </div>
        
                    </div>
                    <div class="container">
                        <div class="row align-items-center justify-content-between">
                            <div class="col-lg-4 col-sm-12">
                                <div class="card">
                                    <div class="card-header text-dark text-center">
                                        <h5>Debit</h5>
                                    </div>
                                    <div class="card-body text-center">
                                        <h6 id="Debit"></h6>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-sm-12">
                                <div class="card">
                                    <div class="card-header text-dark text-center">
                                        <h5>Credit</h5>
                                    </div>
                                    <div class="card-body text-center">
                                        <h6 id="Credit"></h6>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-sm-12">
                                <div class="card">
                                    <div class="card-header text-center">
                                        <h5>Balance</h5>
                                    </div>
                                    <div class="card-body text-center">
                                        <h6 id="Balance"></h6>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                        <h5>Transactions</h5>
                        <div class="btn-toolbar mb-2 mb-md-0">
                            <div class="btn-group mr-2">
                                <button type="button" class="btn btn-sm btn-outline-secondary">Share</button>
                                <button type="button" class="btn btn-sm btn-outline-secondary">Export</button>
                            </div>
                            <div class="btn-group">
                                <button type="button" class="btn  btn-sm btn-outline-secondary selected-period-text">Reference</button>
                                <button type="button" class="btn  btn-sm btn-outline-secondary dropdown-toggle dropdown-toggle-split" id="datePeriodMenuReference" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-reference="parent">
                                    <span class="sr-only">Toggle Dropdown</span>
                                </button>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="datePeriodMenuReference" name="PeriodSelector">
                                    <button class="dropdown-item period-item" type="button">Action</button>
                                    <button class="dropdown-item period-item" type="button">Another Action</button>
        
                                    <button class="dropdown-item period-item" type="button">Another Action</button>
                                </div>
                            </div>
        
                        </div>
                    </div>
                    <div id="transGrid"></div>
                    <input type="hidden" asp-for="ItemVm.Id" id="TransactorId" />
                    <input type="hidden" id="CompanyId" />
                    <input type="hidden" id="CurrencyId" />
                    <input type="hidden" id="PeriodId" />
                    
                    <ejs-grid id="Grid"  
                              allowPaging="true" allowResizing="true" allowSorting="true" enablePersistence="true">
                          <e-data-manager url="@Url.Action("GetTrTransTest", "FinancialData")" adaptor="UrlAdaptor"></e-data-manager> 
                        <e-grid-aggregates>
                            <e-grid-aggregate>
                                <e-aggregate-columns>
                                    <e-aggregate-column field="debit" type="Sum" format="C2" footerTemplate="${Sum}"></e-aggregate-column>
                                    <e-aggregate-column field="credit" type="Sum" format="C2" footerTemplate="${Sum}"></e-aggregate-column>
        
                                </e-aggregate-columns>
        
                            </e-grid-aggregate>
                        </e-grid-aggregates>
                        <e-grid-pagesettings pageSizes="true"></e-grid-pagesettings>
                        <e-grid-columns>
                            <e-grid-column field="transDate" headerText="Trans Date" textAlign="Right" width="50" type="date" format="dd/MM/yyyy"></e-grid-column>
                            <e-grid-column field="docSeriesCode" headerText="Series Code" width="60"></e-grid-column>
                            <e-grid-column field="refCode" headerText="Ref Code" width="60" textAlign="Right"></e-grid-column>
                            <e-grid-column field="companyCode" headerText="Company Code" width="60"></e-grid-column>
                            <e-grid-column field="debit" headerText="Debit" width="50" type="number" textAlign="Right" format="C2"></e-grid-column>
                            <e-grid-column field="credit" headerText="Credit" width="50" type="number" textAlign="Right" format="C2"></e-grid-column>
                            <e-grid-column field="runningTotal" headerText="Running Total" type="number" width="50" textAlign="Right" format="C2"></e-grid-column>
                        </e-grid-columns>
                    </ejs-grid>
        
        
                    <hr/>
                    <footer>
                        <p>&copy; 2018-2021 - George Koukoudis</p>
                    </footer>
        
                </main>
    </div>
</div>
@section Scripts
{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.20.0/feather.min.js"></script>
    <script>
        (function () {

           

        }())
    </script>
}




